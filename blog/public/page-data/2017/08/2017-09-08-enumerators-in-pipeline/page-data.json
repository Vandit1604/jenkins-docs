{"componentChunkName":"component---src-templates-article-js","path":"/2017/08/2017-09-08-enumerators-in-pipeline/","result":{"data":{"asciidoc":{"html":"<div class=\"ulist\">\n<ul>\n<li>\n<p>jenkinsworld\nauthor: rtyler\n---</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>While at Jenkins World, <a href=\"https://github.com/kohsuke\">Kohsuke Kawaguchi</a>\npresented two long-time Jenkins contributors with a\n\"<a href=\"https://en.wikipedia.org/wiki/Small_matter_of_programming\">Small Matter of Programming</a>\"\naward: <a href=\"https://github.com/abayer\">Andrew Bayer</a> and\n<a href=\"https://github.com/jglick\">Jesse Glick</a>. \"Small Matter of Programming\"\nbeing:</p>\n</div>\n<div class=\"quoteblock\">\n<blockquote>\n<div class=\"paragraph\">\n<p>a phrase used to ironically indicate that a suggested feature or design change\nwould in fact require a great deal of effort; it often implies that the person\nproposing the feature underestimates its cost.</p>\n</div>\n</blockquote>\n<div class=\"attribution\">\n&#8212; Wikipedia\n</div>\n</div>\n<div class=\"paragraph\">\n<p>In this context the \"Small Matter\" relates to <a href=\"/doc/book/pipeline\">Jenkins\nPipeline</a> and a very simple snippet of Scripted Pipeline:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-groovy\" data-lang=\"groovy\">[1, 2, 3].each { println it }</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>For a long time in Scripted Pipeline, this simply did not work as users would\nexpect it. Originally filed as\n<a href=\"https://issues.jenkins.io/browse/JENKINS-26481\">JENKINS-26481</a> in 2015,\nit became one of the most voted for, and watched, tickets in the entire issue\ntracker until it was ultimately fixed earlier this year.</p>\n</div>\n<div class=\"imageblock center\">\n<div class=\"content\">\n<a class=\"image\" href=\"https://www.flickr.com/photos/12508267@N00/36886763192/\"><img src=\"https://farm5.staticflickr.com/4421/36886763192_1ae5a04428.jpg\" alt=\"Photo by Kohsuke\"></a>\n</div>\n</div>\n<div class=\"quoteblock\">\n<blockquote>\n<div class=\"paragraph\">\n<p>At least some closures are executed only once inside of Groovy CPS DSL scripts\nmanaged by the workflow plugin.</p>\n</div>\n</blockquote>\n<div class=\"attribution\">\n&#8212; Original bug description by Daniel Tschan\n</div>\n</div>\n<div class=\"paragraph\">\n<p>At a high level, what has been confusing for many users is that Scripted\nPipeline looks like a Groovy, it quacks like a Groovy, but it&#8217;s not <em>exactly</em>\nGroovy. Rather, there&#8217;s an custom Groovy interpreter\n(<a href=\"https://github.com/jenkinsci/workflow-cps-plugin\">CPS</a>) that executes the\nScripted Pipeline in a manner which provides the durability/resumability that\ndefines Jenkins Pipeline.</p>\n</div>\n<div class=\"paragraph\">\n<p>Without diving into too much detail, refer to the pull requests linked to\nJENKINS-26481 for that, the code snippet above was particularly challenging to\nrectify inside the Pipeline execution layer. As one of the chief architects for\nJenkins Pipeline, Jesse made a number of changes around the problem in 2016,\nbut it wasn&#8217;t until early 2017 when Andrew, working on Declarative Pipeline,\nstarted to identify a number of areas of improvement in CPS and provided\nmultiple patches and test cases.</p>\n</div>\n<div class=\"paragraph\">\n<p>As luck would have it, combining two of the sharpest minds in the Jenkins\nproject resulted in the \"Small Matter of Programming\" being finished, and\nreleased in May of this year with plugin:workflow-cps[Pipeline: Groovy] 2.33.</p>\n</div>\n<div class=\"paragraph\">\n<p>Please join me in congratulating, and thanking, Andrew and Jesse for their\ndiligent and hard work smashing one of the most despised bugs in Jenkins\nhistory :).</p>\n</div>","document":{"title":"Closure on enumerators in Pipeline","main":"Closure on enumerators in Pipeline"},"author":{"fullName":"tags:"}}},"pageContext":{"id":"c1547869-da74-571f-b9ba-3d4c52648085"}},"staticQueryHashes":[],"slicesMap":{}}