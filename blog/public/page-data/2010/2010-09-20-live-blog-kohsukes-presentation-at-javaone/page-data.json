{"componentChunkName":"component---src-templates-article-js","path":"/2010/2010-09-20-live-blog-kohsukes-presentation-at-javaone/","result":{"data":{"asciidoc":{"html":"<div id=\"preamble\">\n<div class=\"sectionbody\">\n<hr>\n<div class=\"paragraph\">\n<p><strong>Editor&#8217;s note:</strong> <em>This is a <strong>very</strong> rough set of notes from <a href=\"https://twitter.com/kohsukekawa\">Kohsuke Kawaguchi&#8217;s</a> presentation at JavaOne 2010.</em></p>\n</div>\n<div class=\"imageblock\">\n<div class=\"content\">\n<a class=\"image\" href=\"https://www.flickr.com/photos/hudsonlabs/5008629375/\"><img src=\"https://farm5.static.flickr.com/4083/5008629375_6f603b6093_m.jpg\" alt=\"Kohsuke talks to a packed room at #JavaOne\" width=\"180\"></a>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Kohsuke takes the stage, asks \"who uses&#8217;s Hudson\" the majority of\naudience raises their hands</p>\n</div>\n<div class=\"paragraph\">\n<p>Discussing the great ecosystem using Hudson across the wide-variety of platforms/languages.\n330+ community written plugins. Last year at JavaOne we had 230+ plugins</p>\n</div>\n<div class=\"paragraph\">\n<p>Eclipse Community Survey, Hudson adoption from 9.1% in 2009 to 21.8%</p>\n</div>\n<div class=\"paragraph\">\n<p>Discussing Hudson adoption, going over Hudson job postings on indeed.com going up compared to a stagnant Cruise Control.</p>\n</div>\n<div class=\"paragraph\">\n<p>Kohsuke introduces himself and InfraDNA, started Hudson in 2004/2005.</p>\n</div>\n<div class=\"paragraph\">\n<p>First steps to CI, 10,000 foot overview of SCM monitoring/build/testing. Delving into using Hudson\nfor automating <strong>everything</strong> to get \"more out of your Hudson deployment.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_interconnecting_jobs_aka_workflows\">\"Interconnecting Jobs aka Workflows\"</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Hudson allows for hosting many projects on one Hudson deployment, meaning you need a smaller number of administrators for a larger number of jobs compared to Cruise Control.</p>\n</div>\n<div class=\"paragraph\">\n<p>Building Block #1: Triggering. Using \"upstream\" and \"downstream\" jobs to interconnect jobs to form a workflow in Hudosn. Triggering is asynchronoys in Hudson, useful for separating builds and multiple test jobs. Splitting the build and test jobs so you build quickly test many tests in parallel.</p>\n</div>\n<div class=\"paragraph\">\n<p>Avoid recompiling compilation/builds in the \"downstream\" test runs. \"Copy Artifact\" plugin very useful for passing built executables to test jobs.</p>\n</div>\n<div class=\"paragraph\">\n<p>Upstream/downstream separation also highly useful for separating build and deployment into a continuous workflow.</p>\n</div>\n<div class=\"paragraph\">\n<p>Building Block #2: Join plugin. Fan downstream jobs out and then bring everything back together for final\nsteps.</p>\n</div>\n<div class=\"paragraph\">\n<p>Shows Join plugin configuration screen because \"perhaps the configuration is a little unintuitive\".</p>\n</div>\n<div class=\"paragraph\">\n<p>Building block #3: Fingerprints. Using MD5 checksums from artifacts to learn more about those artifacts in your\nHudson, tying together artifacts from different jobs/builds. Letting Hudson recording these fingerprints of those artifacts in your lifecycle allows Hudson to help you find out where/when those executables came from.</p>\n</div>\n<div class=\"paragraph\">\n<p>Fingerprinting mechanism good for tracking dependencies from third parties, Hudson uses 3rd party fingerprints to compute additional information. Also useful for aggregating reports.</p>\n</div>\n<div class=\"paragraph\">\n<p>Going a bit further using the \"build promotion plugin\" to weed out which builds are \"better than others.\" Taking fingerprints from a build job all the way through the life cycle and passing that fingerprint around test/smoke test jobs, if that passes, build passes on to more rigorous testing, only if it&#8217;s passed base-level testing. Basic model of promotion maps to a \"confidence level\", 1st level passes compilation, 2nd level passes smoke test, 3rd level passes expensive/time-consuming tests.</p>\n</div>\n<div class=\"paragraph\">\n<p>One of the reasons to use promotion in your lifecycle to ensure that artifacts meet a minimum \"confidence level\" so you&#8217;re not expending resources running the longer tests )think about a promotion hierarchy)</p>\n</div>\n<div class=\"paragraph\">\n<p><strong>Demo time!</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Kohsuke demoing build promotion live with fingerprinting of sample jar files. Creating a \"component-X\" build and a \"test-X\" build. test-X job using the \"Copy Artifact\" plugin to grab artifacts from the component-X build.</p>\n</div>\n<div class=\"paragraph\">\n<p>Defining the promotion criteria in \"component-X\", \"test-X\" promoted, indicates that certain builds promoted a build.</p>\n</div>\n<div class=\"paragraph\">\n<p><strong>End demo time!</strong></p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_maven_integration\">Maven Integration</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Maven integration highlights. Going over POM comprehension and simplified configuration due to more information\ngetting inferred from the POMs. Building dependency chains with Maven integration.</p>\n</div>\n<div class=\"paragraph\">\n<p>\"That&#8217;s the basics, let&#8217;s talk about advanced integration with Maven\"</p>\n</div>\n<div class=\"paragraph\">\n<p>Parallel-module builds! Letting Hudson builds modules with a single checkbox, meaning wherever possible Hudson will try to build your modules in parallel when possible.</p>\n</div>\n<div class=\"paragraph\">\n<p>Incremental builds! Only building changed modules in a build run to be more efficient, preventing the need to rebuild the whole project from scratch every time. Hudson&#8217;s SCM integration to determine what the mapping between files changed and modules needing to be built.</p>\n</div>\n<div class=\"paragraph\">\n<p>Private Maven repositories! Avoiding artifacts being overwritten by others, telling Hudson to create a Maven repository <strong>per-project</strong> (at the expense of more bandwidth/disk space needed), helps segregate builds to avoid them stomping on each other.</p>\n</div>\n<div class=\"paragraph\">\n<p>After-the-fact deployment, avoiding deploying modules unless the whole build is successful (all modules properly built). Instead of using <code>mvn deploy</code>, you tell Hudson to deploy to your Maven repository with a single checkbox.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_matrix_project\">Matrix Project</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>No longer alpha! Production-ready!</p>\n</div>\n<div class=\"paragraph\">\n<p>Often used to build/test across slight variations of build environments such as different platforms for a C&#43;&#43; project. Conceptually it&#8217;s like running your build in a for loop.</p>\n</div>\n<div class=\"paragraph\">\n<p>Hudson supports a number of different axes, most popular of which being a \"agent axis\" which allows you to use different labels or specific agents for the build. Hudson also supports arbitrary text fields as axes to be passed along to the build steps as environment variables.</p>\n</div>\n<div class=\"paragraph\">\n<p>Touching on \"filtering\" in the matrix project support to remove parts of an axis that you do not need. I.e if you have a \"platform\" and a \"browser\" axes for web testing, you can exclude the \"iexplore\" value of the \"browser\" axis when the \"platform\" axis is \"mac\".</p>\n</div>\n<div class=\"paragraph\">\n<p><strong>Demo time!</strong></p>\n</div>\n<div class=\"paragraph\">\n<p>Defining two axes, \"agent\" axis and the \"JDK\" axis to build against different JDK versions on linux, solaris and windows. Excluding \"touchstone builds\" to avoid rebuilding a large number of matrix builds unless a limited subset of the combinations successfully build. Used to avoid spending a lot of time spinning cycles on very obvious errors that the first few builds \"recognize\" immediately.</p>\n</div>\n<div class=\"paragraph\">\n<p><strong>End demo time</strong></p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_doing_selenium_testing_on_hudson\">Doing Selenium testing on Hudson</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Use \"Selenium Grid plugin\" to install Selenium binaries on all agents and prepares them all to talk to each other. Useful for \"overloading\" an existing Hudson cluster as a Selenium cluster.</p>\n</div>\n<div class=\"paragraph\">\n<p>Using labels in Hudson to better determine which node has which browser.</p>\n</div>\n<div class=\"paragraph\">\n<p>Selenium integration is <strong>very</strong> powerful when combined with the join plugin and the matrix configuration support in Hudson for web testing across a large number of platforms and browsers.</p>\n</div>\n<div class=\"paragraph\">\n<p>The Hudson project has invested heavily in getting great cluster support which helps tremendously with Selenium which has invested as heavily in clustering.</p>\n</div>\n<div class=\"paragraph\">\n<p>How to you deal with Selenium needing a GUI while Hudson agents are largely headless. Use the Xvnc plugin! On Windows things are bit trickier, easier to let Hudson agent/service \"interact with desktop\" such that it can access dialogs/etc. Failing everything else, configuring Windows for auto-login and then have JNLP agents autostart at login will work for allowing the agent to use the GUI and network resources.</p>\n</div>\n<div class=\"paragraph\">\n<p>The rest of the session was dedicated to some good Q&amp;A. Great session by Hudson&#8217;s founder.</p>\n</div>\n</div>\n</div>","document":{"title":"\"Live Blog: Kohsuke&#8217;s Presentation at JavaOne\"","main":"\"Live Blog"},"author":{"fullName":"rtyler"}}},"pageContext":{"id":"d5e93c01-bb66-5732-9448-831f0e2cfd6f"}},"staticQueryHashes":[],"slicesMap":{}}