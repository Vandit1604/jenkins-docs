<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using Jenkins agents :: Jenkins Docs</title>
    <link rel="canonical" href="https://docs.jenkins.com/user-docs/2.426.1/using-jenkins/using-agents.html">
    <link rel="prev" href="executor-starvation.html">
    <link rel="next" href="using-jmeter-with-jenkins.html">
    <meta name="generator" content="Antora 3.1.6">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
<link rel="icon" href="../../../favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<script type="module" src="https://unpkg.com/@jenkinsci/jenkins-io-components?module"></script>
<jio-navbar style="  position: fixed;
  top: 0;
  width: 100vw;
  z-index: 100;"></jio-navbar>
  <div class="body">
<div class="nav-container" data-component="user-docs" data-version="2.426.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Jenkins User Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../installing-jenkins/index.html">Installing Jenkins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/docker.html">docker.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/kubernetes.html">Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/linux.html">Linux</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/macos.html">macOS</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/windows.html">Windows</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/other.html">Other Systems</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/war-file.html">WAR file</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/servlet-containers.html">Other Servlet Containers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/offline.html">Offline Installations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../installing-jenkins/initial-settings.html">Initial Settings</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../platform-information/index.html">Platform Information</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../platform-information/upgrade-java-to-11.html">Upgrading to Java 11</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../platform-information/support-policy-windows.html">Windows Support Policy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../platform-information/support-policy-linux.html">Linux Support Policy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../platform-information/support-policy-web-browsers.html">Browser compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../platform-information/support-policy-java.html">Java Support Policy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../platform-information/support-policy-servlet-containers.html">Servlet Container Support Policy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../platform-information/upgrade-java-to-17.html">Upgrading to Java 17</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Using Jenkins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="using-credentials.html">Using credentials</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="searchbox.html">Using Search Box</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="referencing-another-project-by-name.html">Referencing another project by name</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="aborting-a-build.html">Aborting a build</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="fingerprints.html">Fingerprints</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="using-local-language.html">Using local language</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="change-time-zone.html">Change time zone</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="remote-access-api.html">Remote Access API</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="executor-starvation.html">Executor Starvation</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="using-agents.html">Using Jenkins agents</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="using-jmeter-with-jenkins.html">Using JMeter with Jenkins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../pipeline/index.html">Pipeline</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/getting-started.html">Getting started with Pipeline</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/jenkinsfile.html">Using a Jenkinsfile</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/running-pipelines.html">Running a Pipeline</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/multibranch.html">Branches and Pull Requests</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/docker.html">Using Docker with pipeline</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/shared-libraries.html">Extending with Shared Libraries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/development.html">Pipeline Development Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/syntax.html">Pipeline syntax</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/pipeline-best-practices.html">Pipeline Best Practices</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/scaling-pipeline.html">Scaling Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pipeline/cps-method-mismatches.html">Pipeline CPS Method Mismatches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../blueocean/index.html">Blue Ocean</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../blueocean/getting-started.html">Getting started with Blue Ocean</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../blueocean/creating-pipelines.html">Creating a Pipeline</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../blueocean/dashboard.html">Dashboard</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../blueocean/activity.html">Activity View</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../blueocean/pipeline-run-details.html">Pipeline Run Details View</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../blueocean/pipeline-editor.html">Pipeline Editor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../managing/index.html">Managing Jenkins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/system-configuration.html">Configuring the System</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/casc.html">Configuration as Code</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/tools.html">Managing Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/plugins.html">Managing Plugins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/about-jenkins.html">About Jenkins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/system-info.html">System Information</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/system-properties.html">Jenkins Features Controlled with System Properties</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/change-system-timezone.html">Change System Time Zone</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/cli.html">Jenkins CLI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/script-console.html">Script Console</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/groovy-hook-scripts.html">Groovy Hook Scripts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/nodes.html">Managing Nodes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/script-approval.html">In-process Script Approval</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/users.html">Users</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/ui-themes.html">Themes for user interface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/user-content.html">User Content</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../managing/spawning-processes.html">Spawning Processes From Build</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../security/index.html">Securing Jenkins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/access-control.html">Access Control</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/securing-jenkins.html">Securing Jenkins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/managing-security.html">Managing Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/controller-isolation.html">Controller Isolation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/securing-builds.html">Securing Builds</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/csrf-protection.html">CSRF Protection</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/user-content.html">Rendering User Content</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/build-authorization.html">Access Control for Builds</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/environment-variables.html">Handling Environment Variables</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/markup-formatter.html">Markup Formatters</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security/services.html">Exposed Services and Ports</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../system-administration/index.html">System Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/backing-up.html">Backing-up/Restoring Jenkins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/monitoring.html">Monitoring Jenkins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/administering-jenkins-on-kubernetes.html">Administering Jenkins on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/with-chef.html">Managing Jenkins with Chef</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/with-puppet.html">Managing Jenkins with Puppet</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/viewing-logs.html">Viewing logs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/authenticating-scripted-clients.html">Authenticating scripted clients</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-with-jenkins/index.html">Reverse proxy configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-with-jenkins/reverse-proxy-configuration-apache.html">Reverse proxy - Apache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-with-jenkins/reverse-proxy-configuration-nginx.html">Reverse proxy - Nginx</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-with-jenkins/reverse-proxy-configuration-haproxy.html">Reverse proxy - HAProxy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-with-jenkins/reverse-proxy-configuration-squid.html">Reverse proxy - Squid</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-with-jenkins/reverse-proxy-configuration-iis.html">Reverse proxy - IIS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-with-jenkins/reverse-proxy-configuration-iptables.html">Reverse proxy - iptables</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/reverse-proxy-configuration-troubleshooting.html">Reverse proxy - Issues</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-administration/systemd-services.html">Managing systemd services</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scaling/index.html">Scaling Jenkins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scaling/architecting-for-scale.html">Architecting for Scale</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scaling/hardware-recommendations.html">Hardware Recommendations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scaling/architecting-for-manageability.html">Architecting for Manageability</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../scaling/scaling-jenkins-on-kubernetes.html">Scaling Jenkins on Kubernetes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../troubleshooting/index.html">Troubleshooting Jenkins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../troubleshooting/diagnosing-errors.html">Diagnosing Errors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../troubleshooting/obtaining-a-thread-dump.html">Obtaining a thread dump</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary/index.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jenkins User Documentation</span>
    <span class="version">2.426.1</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../about/index.html">About Jenkins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../about/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../images/index.html">Artwork</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../images/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../books/index.html">Jenkins Books</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../books/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../community/index.html">Jenkins Community</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../community/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../dev-docs/index.html">Jenkins Developer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../dev-docs/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../download/latest/index.html">Jenkins Download and Deployment</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../download/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../events/index.html">Jenkins Events</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../events/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../project/index.html">Jenkins Project</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../project/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../projects/index.html">Jenkins Projects</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../projects/index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../security/index.html">Jenkins Security Advisories</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../security/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../solutions/2.426.1/index.html">Jenkins Solutions Page</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../solutions/2.426.1/index.html">2.426.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../sigs/index.html">Jenkins Special Interest Groups</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../sigs/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tutorials/2.426.1/index.html">Jenkins Tutorials</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tutorials/2.426.1/index.html">2.426.1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Jenkins User Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2.426.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Jenkins User Documentation</a></li>
    <li><a href="index.html">Using Jenkins</a></li>
    <li><a href="using-agents.html">Using Jenkins agents</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/Vandit1604/jenkins-docs/edit/main/docs/user-docs/modules/using-jenkins/pages/using-agents.adoc"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg>  Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Using Jenkins agents</h1>
<div class="admonitionblock note">
    <table>
        <tbody>
            <tr>
                <td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
                <td class="content">
                    <div class="paragraph">
                        <p>This site is the new docs site currently being tested. For the actual docs in use please go to <a href="https://www.jenkins.io/doc/">https://www.jenkins.io/doc</a>.</p>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Jenkins architecture is designed for distributed build environments.
It allows us to use different environments for each build project balancing
the workload among multiple agents running jobs in parallel.</p>
</div>
<div class="paragraph">
<p>The Jenkins controller is the original node in the Jenkins installation.
The Jenkins controller administers the Jenkins agents and orchestrates their work, including scheduling jobs on agents and monitoring agents.
Agents may be connected to the Jenkins controller using either local or cloud computers.</p>
</div>
<div class="paragraph">
<p>The agents require a Java installation and a network connection to the Jenkins controller.
View the 3 minute video below for a brief explanation of Jenkins agents.</p>
</div>
<div class="videoblock">
<div class="title">What is a Jenkins Agent</div>
<div class="content">
<iframe width="640" height="360" src="https://www.youtube.com/embed/4KghHJEz5no?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_agents_with_docker"><a class="anchor" href="#_configuring_agents_with_docker"></a>Configuring agents with Docker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jenkins agents can be launched in physical machines, virtual machines, Kubernetes clusters, and with Docker images.
This section connects Docker agents to Jenkins with SSH.</p>
</div>
<div class="sect2">
<h3 id="_environment"><a class="anchor" href="#_environment"></a>Environment</h3>
<div class="paragraph">
<p>To run this guide you will need a machine with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java installation</p>
</li>
<li>
<p>Jenkins installation</p>
</li>
<li>
<p>Docker installation</p>
</li>
<li>
<p>SSH key pair</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you need help to install Java, Jenkins and Docker please visit the section <a href="../installing-jenkins/docker.html" class="xref page">Installing Jenkins.</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_generating_an_ssh_key_pair"><a class="anchor" href="#_generating_an_ssh_key_pair"></a>Generating an SSH key pair</h3>
<div class="paragraph">
<p>To generate the SSH key pair, you have to execute a command line tool named <code>ssh-keygen</code> on a machine you have access to. It could be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the machine on which your Jenkins controller runs</p>
</li>
<li>
<p>the host (if using containers)</p>
</li>
<li>
<p>a machine on which you have an agent running</p>
</li>
<li>
<p>or even your developer machine</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The SSH key pair generation can be done on any operating system:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On Windows, you can use any OpenSSH installation such as <a href="https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse">Windows OpenSSH</a>, the <code>ssh-keygen</code> that is included with <a href="https://gitforwindows.org/">git for Windows</a>, or <a href="https://cygwin.com/">Cygwin</a></p>
</li>
<li>
<p>On Unix (Linux, macOS, BSD, etc.) you can use any OpenSSH installation packaged with your system as well</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Note that you will have to be able to copy the key value to your controller and agent afterwards, so check that you can copy a file content into the clipboard beforehand.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In a terminal window run the command: <code>ssh-keygen -f ~/.ssh/jenkins_agent_key</code></p>
</li>
<li>
<p>Provide a passphrase to use with the key (it can be empty)</p>
</li>
<li>
<p>Confirm the output looks something like this:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ubuntu@desktop:~$ ssh-keygen -f ~/.ssh/jenkins_agent_key
Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/ubuntu/.ssh/jenkins_agent_key
Your public key has been saved in /home/ubuntu/.ssh/jenkins_agent_key.pub
The key fingerprint is:
SHA256:XqxxjqsLlvDD0ZHm9Y2iR7zC6IbsUlMEHo3ffy8TzGs
The key's randomart image is:
+---[RSA 3072]----+
|  o+             |
| ...o  .         |
|  .o .+ .        |
|    o+.+ o o     |
|  ... o.So* .    |
|  o+ = +.X=      |

| o oO + *..+     |
|. oo.o o .E .    |
| o... oo.. o     |
+----[SHA256]-----+</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_create_a_jenkins_ssh_credential"><a class="anchor" href="#_create_a_jenkins_ssh_credential"></a>Create a Jenkins SSH credential</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to your Jenkins dashboard;</p>
</li>
<li>
<p>Go to <code>Manage Jenkins</code> option in main menu and click on the <code>Manage Credentials</code> button;</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/credentials-1.png" alt="credentials menu" width="700"></span></p>
</div>
</li>
<li>
<p>select the drop option <code>Add Credentials</code> from the global item;</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/credentials-2.png" alt="add credentials option" width="700"></span></p>
</div>
</li>
<li>
<p>Fill in the form:</p>
<div class="ulist">
<ul>
<li>
<p>Kind:  SSH Username with private key;</p>
</li>
<li>
<p>id: jenkins</p>
</li>
<li>
<p>description: The jenkins ssh key</p>
</li>
<li>
<p>username: jenkins</p>
</li>
<li>
<p>Private Key: select <code>Enter directly</code> and press the Add button to insert the content of your private key file at <code>~/.ssh/jenkins_agent_key</code></p>
</li>
<li>
<p>Passphrase: fill your passphrase used to generate the SSH key pair (leave empty if you didn&#8217;t use one at the previous step) and then press the <code>Create</code> button
<span class="image"><img src="_images/node/credentials-3.png" alt="credentials filled form" width="650"></span></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_your_docker_agent"><a class="anchor" href="#_creating_your_docker_agent"></a>Creating your Docker agent</h3>
<div class="sect3">
<h4 id="_on_linux"><a class="anchor" href="#_on_linux"></a>On Linux</h4>
<div class="paragraph">
<p>Here we will use the <a href="https://github.com/jenkinsci/docker-ssh-agent">docker-ssh-agent image</a> to create the agent containers.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>run the command to start your first agent:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker run -d --rm --name=agent1 -p 22:22 \
-e "JENKINS_AGENT_SSH_PUBKEY=[your-public-key]" \
jenkins/ssh-agent:alpine-jdk17</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Remember to replace the tag [your-public-key] for your own SSH <strong>public</strong> key.</p>
</li>
<li>
<p>Your public key value in this example could be found by issuing : <code>cat ~/.ssh/jenkins_agent_key.pub</code> on the machine your created it. Do not add the square brackets <code>[]</code> around the key value</p>
</li>
<li>
<p>The value of [your-public-key] MUST include the full contents of your .pub file, including the <code>ssh-XXXX</code> prefix.</p>
<div class="ulist">
<ul>
<li>
<p>Ex: <code>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAQQCo9+BpMRYQ/dL3DS2CyJxRF+j6ctbT3/Qp84+KeFhnii7NT7fELilKUSnxS30WAvQCCo2yU1orfgqr41mM70MB</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>[#ssh-anchor] If your machine already has a ssh server running on the <code>22</code> port (if you logged onto this machine thanks to the <code>ssh</code> command, that&#8217;s the case), you should use another port for the <code>docker</code> command, such as <code>-p 4444:22</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Now the container <code>agent1</code> is running.<br>
Hint: the command <code>docker ps</code> can be used to check if the container is running as expected.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_on_windows"><a class="anchor" href="#_on_windows"></a>On Windows</h4>
<div class="paragraph">
<p>Here we will use the <a href="https://github.com/jenkinsci/docker-ssh-agent">docker-ssh-agent image</a> to create the agent containers.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>run the command to start your first agent:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-powershell hljs" data-lang="powershell">docker run -d --rm --name=agent1 --network jenkins -p 22:22 `
  -e "JENKINS_AGENT_SSH_PUBKEY=[your-public-key]" `
  jenkins/ssh-agent:jdk17</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Remember to replace the tag [your-public-key] for your own SSH <strong>public</strong> key.</p>
</li>
<li>
<p>Your public key in this example is: <code>Get-Content $Env:USERPROFILE\.ssh\jenkins_agent_key.pub</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Now the container <code>agent1</code> is running.<br>
Hint: the command <code>docker ps</code> can be used to check if the container is running as expected.
Additionally, the command <code>docker container inspect agent1 | Select-String -Pattern '"IPAddress": "\d+\.\d+\.\d+\.\d+"'</code> can be used to see the <strong>Host</strong> to be set in Jenkins for the agent.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setup_up_the_agent1_on_jenkins"><a class="anchor" href="#_setup_up_the_agent1_on_jenkins"></a>Setup up the agent1 on jenkins.</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to your Jenkins dashboard;</p>
</li>
<li>
<p>Go to <code>Manage Jenkins</code> option in main menu;</p>
</li>
<li>
<p>Go to <code>Manage Nodes and clouds</code> item;</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/node-1.png" alt="Manage node menu" width="700"></span></p>
</div>
</li>
<li>
<p>Go to <code>New Node</code> option in side menu;</p>
</li>
<li>
<p>Fill the Node/agent name and select the type; (e.g. Name: agent1, Type: Permanent Agent)</p>
</li>
<li>
<p>Now fill the fields:</p>
<div class="ulist">
<ul>
<li>
<p>Remote root directory; (e.g.: /home/jenkins )</p>
</li>
<li>
<p>label; (e.g.: agent1 )</p>
</li>
<li>
<p>usage; (e.g.: only build jobs with label expression&#8230;&#8203;)</p>
</li>
<li>
<p>Launch method; (e.g.: Launch agents by SSH )</p>
<div class="ulist">
<ul>
<li>
<p>Host; (e.g.: localhost or your IP address )</p>
</li>
<li>
<p>Credentials; (e.g.: jenkins )</p>
</li>
<li>
<p>Host Key verification Strategy; (e.g.: Manually trusted key verification &#8230;&#8203; )
<span class="image"><img src="_images/node/node-2.png" alt="node create form" width="600"></span></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Press the <code>Save</code> button and the agent1 will be registered, but offline for the time being. Click on it.</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/node-3.png" alt="node offline" width="650"></span></p>
</div>
</li>
<li>
<p>You should now see <code>This node is being launched.</code>. If that&#8217;s not the case, you can now press the <code>Relaunch agent</code> button and wait a few seconds. You can now click on the <code>Log</code> button on the left, then you should receive<br>
the message: <code>Agent successfully connected and online</code> on the last log line.</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/node-4.png" alt="Agent successfully connected" width="650"></span></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If your Jenkins controller does not start the agent via ssh, please check the port you <a href="#ssh-anchor">configured</a> on your agent.
Copy it, and then click on the <code>Advanced&#8230;&#8203;</code> button.
You will then be able to paste the port number into the <code>Port</code> textfield.</p>
</div>
</div>
<div class="sect2">
<h3 id="_delegating_the_first_job_to_agent1"><a class="anchor" href="#_delegating_the_first_job_to_agent1"></a>Delegating the first job to agent1</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to your jenkins dashboard;</p>
</li>
<li>
<p>Select <code>New Item</code> on side menu;</p>
</li>
<li>
<p>Enter a name. (e.g.: First Job to Agent1)</p>
</li>
<li>
<p>Select the <code>Freestyle project</code> and press OK;</p>
</li>
<li>
<p>Check the option: <code>Restrict where this project can be run</code>;</p>
</li>
<li>
<p>Fill the field: label with the agent1 label; (e.g.: agent1)</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/node-5.png" alt="Agent job 1" width="650"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Be careful with white spaces before or after the label.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Now Select the option <code>Execute shell</code> at Build Section;</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/node-6.png" alt="Agent job 2" width="650"></span></p>
</div>
</li>
<li>
<p>Add the command: <code>echo $NODE_NAME</code> in the <code>Command</code> field of the <code>Execute shell</code> step  and the name<br>
of the agent will be printed inside the log when this job is run;</p>
</li>
<li>
<p>press the save button and then select the option <code>Build Now</code>;</p>
</li>
<li>
<p>Wait some seconds and then go to <code>Console Output</code> page</p>
<div class="paragraph">
<p><span class="image"><img src="_images/node/node-7.png" alt="Agent job 3" width="650"></span></p>
</div>
</li>
<li>
<p>you should receive output similar to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Started by user Admin User
Running as SYSTEM
Building remotely on agent1 in workspace /home/jenkins/workspace/First Job to Agent1
[First Job to Agent1] $ /bin/sh -xe /tmp/jenkins15623311211559049312.sh
+ echo $NODE_NAME
agent1
Finished: SUCCESS</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_restarting_a_jenkins_agent"><a class="anchor" href="#_restarting_a_jenkins_agent"></a>Restarting a Jenkins agent</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This video provides instructions on how to restart a Jenkins agent using various methods.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="800" height="420" src="https://www.youtube.com/embed/MTLgbp0GH8w?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="executor-starvation.html">Executor Starvation</a></span>
  <span class="next"><a href="using-jmeter-with-jenkins.html">Using JMeter with Jenkins</a></span>
</nav>
</article>
  </div>
</main>
</div>
<jio-footer></jio-footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
